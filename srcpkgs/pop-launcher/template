# Template file for 'pop-launcher'
pkgname=pop-launcher
version=1.2.7
revision=1
build_options="sccache"
archs="x86_64* i686"
hostmakedepends="pkg-config just cargo cargo-auditable $(vopt_if sccache "rust-sccache")"
makedepends="libxkbcommon-devel"
short_desc="Modular IPC-based desktop launcher service"
maintainer="Bella Wagner <belladev109@proton.me>"
license="MPL-2.0"
homepage="https://github.com/pop-os/launcher"
distfiles="https://github.com/pop-os/launcher/archive/refs/tags/${version}.tar.gz"
checksum=e02ffd9876bb11c50118bf5e9c0bec57132f7010831da749dc6107e31ca198a6

pre_build() {
	$(vopt_if sccache "export RUSTC_WRAPPER=/usr/bin/sccache")
}

do_install() {
	CARGO_TARGET_DIR="target/${RUST_TARGET}" just --set rootdir ${DESTDIR} install
}
